var routeApp=routeApp||{};!function(){routeApp.routeToMarker={calcRouteToMarker:function(){routeApp.geolocate?(routeApp.start=routeApp.geolocate,routeApp.end=routeApp.endMarker,routeApp.request={origin:routeApp.start,destination:routeApp.end,travelMode:google.maps.DirectionsTravelMode.BICYCLING},routeApp.directionsService.route(routeApp.request,function(a,b){b==google.maps.DirectionsStatus.OK&&routeApp.directionsDisplay.setDirections(a)})):alert("Geef toestemming om huidige locatie te gebruiken")}},routeApp.clickOptions={init:function(){this.closeClick(),this.createButtons(),this.toAalsmeer(),this.closeMenu(),this.mapClick()},createButtons:function(){routeApp.typeSelector=document.getElementById("gmap_type"),routeApp.select=document.getElementsByClassName("selectie_button");for(var a=0;a<routeApp.select.length;a++)routeApp.select[a].addEventListener("click",function(a){routeApp.clickedItem=a.target.innerHTML,routeApp.clickOptions.filterMarkers(),console.log(a.target.innerHTML),console.log()},!1);routeApp.createMarker=!1,routeApp.createMarkerButton=document.getElementById("toevoegen_button"),routeApp.createMarkerButton.addEventListener("click",function(){routeApp.createMarker?(routeApp.createMarker=!1,routeApp.createMarkerButton.style.backgroundColor="#2c3e50"):(routeApp.createMarker=!0,routeApp.createMarkerButton.style.backgroundColor="#e74c3c")},!1)},markerClick:function(){google.maps.event.addListener(routeApp.marker,"click",function(){document.getElementById("info").style.display="block",document.getElementById("name").innerHTML=this.title,document.getElementById("horecatype").innerHTML=this.horecaType,document.getElementById("description").innerHTML=this.description,document.getElementById("route_knop").innerHTML="route",routeApp.endMarker=routeApp.marker.position,routeApp.routeButton=document.getElementById("route_knop"),routeApp.routeButton.addEventListener("click",function(){routeApp.routeToMarker.calcRouteToMarker()},!1)})},ownMarkerClick:function(){google.maps.event.addListener(routeApp.storageMarker,"click",function(){document.getElementById("info").style.display="block",document.getElementById("horecatype").innerHTML=this.horecaType,document.getElementById("description").innerHTML=this.description,document.getElementById("route_knop").innerHTML="route",routeApp.endMarker=routeApp.storageMarker.position,routeApp.routeButton=document.getElementById("route_knop"),routeApp.routeButton.addEventListener("click",function(){routeApp.routeToMarker.calcRouteToMarker()},!1)})},nearbyMarkerClick:function(){google.maps.event.addListener(routeApp.nearbyMarker,"click",function(){document.getElementById("info").style.display="block",document.getElementById("description").innerHTML=this.name}),routeApp.endMarker=routeApp.storageMarker.position,routeApp.routeButton=document.getElementById("route_knop"),routeApp.routeButton.addEventListener("click",function(){routeApp.routeToMarker.calcRouteToMarker()},!1)},mapClick:function(){google.maps.event.addListener(routeApp.map,"click",function(a){routeApp.ownDescription=document.getElementById("input_description").value,routeApp.selects=document.getElementById("soort_plaats"),routeApp.selectedValue=routeApp.selects.options[routeApp.selects.selectedIndex].value,routeApp.createMarker&&routeApp.setMarkers.placeMarker(a.latLng)})},closeClick:function(){routeApp.close=document.getElementById("close"),routeApp.close.addEventListener("click",function(){document.getElementById("info").style.display="none"},!1)},closeMenu:function(){routeApp.categorie_knop=document.getElementById("categorie"),routeApp.menu=document.getElementById("menu"),routeApp.menu.addEventListener("click",function(){routeApp.categorie_knop.style.display="block"==routeApp.categorie_knop.style.display?"none":"block"},!1)},toAalsmeer:function(){routeApp.aalsmeerButton=document.getElementById("button_aalsmeer"),routeApp.aalsmeerButton.addEventListener("click",function(){routeApp.map.panTo(routeApp.center_aalsmeer)})},filterMarkers:function(){routeApp.geolocate&&routeApp.places.requestPlaces();for(var a=0;a<routeApp.markers_array.length;a++)routeApp.type=routeApp.typeSelector.value,routeApp.markers_array[a].setMap(routeApp.markers_array[a].horecaType!=routeApp.type?null:routeApp.map),"alles"==routeApp.type&&routeApp.markers_array[a].setMap(routeApp.map)}}}();var routeApp=routeApp||{};!function(){routeApp.storageItems={init:function(){this.saveStorage()},saveStorage:function(){localStorage.setItem("horeca",JSON.stringify(routeApp.horeca))},getStorage:function(){routeApp.horeca=JSON.parse(localStorage.getItem("horeca"))},saveMarkers:function(){localStorage.setItem("ownMarkers",JSON.stringify(routeApp.ownMarkers))},getMarkers:function(){routeApp.ownMarkerLat=localStorage.getItem("markerLat"),routeApp.ownMarkerLong=localStorage.getItem("markerLong"),routeApp.ownMarkers=JSON.parse(localStorage.getItem("ownMarkers"))}}}();var routeApp=routeApp||{};!function(){routeApp.horeca=[{naam:"Feesterij de Bok",lat:52.25597,longi:4.768396,z:4,typeHoreca:"bar",description:"De Bok, zoals velen de feesterij noemen, heeft twee ruimtes. Een grote discotheek met twee bars en ruime dansvloer en een gezellig bruin cafÃ©",website:"http//www.feesterijdebok.nl",img:"images/bok.png"},{naam:"Welkom Thuis",lat:52.259621,longi:4.756068,z:5,typeHoreca:"food",description:" Welkom Thuis, de naam zegt het al: het gevoel van thuiskomen en toch in de watten worden gelegd. Goed eten voor een fatsoenlijke prijs en een warme sfeer. Dat is de filosofie van eigenaar Mark Bergsma.",website:"http://www.welkomthuisaalsmeer.nl/",img:"images/welkom_thuis.png"},{naam:"Crown",lat:52.268341,longi:4.751108,z:3,typeHoreca:"cafe",description:"Crown, Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer eget quam erat. Vestibulum velit ante, dictum",website:"http://www.crowntheateraalsmeer.nl/",img:"images/shadow.png"},{naam:"Cafe de Praam",lat:52.26799,longi:4.74759,z:6,typeHoreca:"bar",description:"de praam",img:"images/praam.png"},{naam:"Oude Veiling",lat:52.2687,longi:4.74877,z:5,typeHoreca:"food",description:"Pasta Vino",img:"images/shadow.png"}],routeApp.people={url:"images/people.png",size:new google.maps.Size(30,30),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,32)}}();var routeApp=routeApp||{};!function(){routeApp.places={init:function(){this.requestPlaces()},requestPlaces:function(){routeApp.places.clearMarker(),routeApp.requestedLocation=routeApp.geolocate,routeApp.type=document.getElementById("gmap_type").value,console.log(routeApp.type),routeApp.request={location:routeApp.requestedLocation,radius:3e3,types:[routeApp.type]},routeApp.service=new google.maps.places.PlacesService(routeApp.map),routeApp.service.nearbySearch(routeApp.request,routeApp.places.callback)},callback:function(a,b){if(b==google.maps.places.PlacesServiceStatus.OK){for(var c=0;c<a.length;c++)routeApp.places.createMarkers(a[c]);console.log("niet ok")}},createMarkers:function(a){routeApp.placeLocation=a.geometry.location,routeApp.nearbyMarker=new google.maps.Marker({map:routeApp.map,position:routeApp.placeLocation,name:a.name}),routeApp.infowindow=new google.maps.InfoWindow({content:routeApp.nearbyMarker.name}),routeApp.infowindow.open(routeApp.nearbyMarker.get("map"),routeApp.nearbyMarker),routeApp.markers_array.push(routeApp.nearbyMarker),routeApp.clickOptions.nearbyMarkerClick(),routeApp.markersNearby.push(routeApp.nearbyMarker)},clearMarker:function(){for(var a=0;a<routeApp.markersNearby.length;a++)console.log("MARKERSNEARBY",routeApp.markersNearby[a]),routeApp.markersNearby[a].setMap(null)}}}();var routeApp=routeApp||{};!function(){routeApp.initializeApp={init:function(){this.createMap(),this.getPosition()},createMap:function(){routeApp.markersNearby=[],routeApp.directionsDisplay=new google.maps.DirectionsRenderer,routeApp.directionsService=new google.maps.DirectionsService,routeApp.mapOptions={zoom:16,center:new google.maps.LatLng(52.25597,4.768396),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1},routeApp.map=new google.maps.Map(document.getElementById("map-canvas"),routeApp.mapOptions),routeApp.directionsDisplay.setMap(routeApp.map),routeApp.directionsDisplay.setOptions({suppressMarkers:!0})},getPosition:function(){routeApp.geolocate,navigator.geolocation.getCurrentPosition(function(a){routeApp.geolocate=new google.maps.LatLng(a.coords.latitude,a.coords.longitude),routeApp.positionMarker=new google.maps.Marker({map:routeApp.map,position:routeApp.geolocate,icon:routeApp.people}),routeApp.places.init(),routeApp.map.setCenter(routeApp.geolocate)}),routeApp.center_aalsmeer=new google.maps.LatLng(52.268341,4.751108)}},routeApp.setMarkers={init:function(){this.generateMarkers(routeApp.map,routeApp.horeca),routeApp.clickOptions.init()},generateMarkers:function(){routeApp.markers_array=[],null!==localStorage.getItem("horeca")&&routeApp.storageItems.getStorage(),routeApp.ownMarkers=[],null!==localStorage.getItem("ownMarkers")&&(routeApp.storageItems.getMarkers(),routeApp.setMarkers.storageMarkers());for(var a=0;a<=routeApp.horeca.length-1;a++)routeApp.horecas=routeApp.horeca[a],console.log(routeApp.horecas),routeApp.myLatLng=new google.maps.LatLng(routeApp.horecas.lat,routeApp.horecas.longi),routeApp.marker=new google.maps.Marker({position:routeApp.myLatLng,map:routeApp.map,shadow:routeApp.horecas.shadow,icon:routeApp.horecas.img,title:routeApp.horecas.naam,zIndex:routeApp.horecas.z,horecaType:routeApp.horecas.typeHoreca,description:routeApp.horecas.description}),routeApp.markers_array.push(routeApp.marker),routeApp.clickOptions.markerClick(),routeApp.storageItems.init()},placeMarker:function(a){routeApp.storageMarker=new google.maps.Marker({position:a,map:routeApp.map,description:routeApp.ownDescription,horecaType:routeApp.selectedValue,draggable:!0}),routeApp.clickOptions.ownMarkerClick(),routeApp.infowindow=new google.maps.InfoWindow({content:routeApp.ownDescription}),routeApp.infowindow.open(routeApp.storageMarker.get("map"),routeApp.storageMarker),routeApp.markers_array.push(routeApp.ownMarker),routeApp.storageObject={position:routeApp.storageMarker.position,description:routeApp.storageMarker.description,horecaType:routeApp.storageMarker.horecaType},routeApp.ownMarkers.push(routeApp.storageObject),routeApp.storageItems.saveMarkers()},storageMarkers:function(){for(var a=0;a<=routeApp.ownMarkers.length-1;a++)routeApp.localMarkers=routeApp.ownMarkers[a],routeApp.storageLatLng=new google.maps.LatLng(routeApp.localMarkers.position.k,routeApp.localMarkers.position.A),routeApp.storageMarker=new google.maps.Marker({position:routeApp.storageLatLng,map:routeApp.map,description:routeApp.localMarkers.description,horecaType:routeApp.localMarkers.horecaType,draggable:!0}),routeApp.clickOptions.ownMarkerClick(),routeApp.markers_array.push(routeApp.storageMarker),routeApp.infowindow=new google.maps.InfoWindow({content:routeApp.storageMarker.description}),routeApp.infowindow.open(routeApp.storageMarker.get("map"),routeApp.storageMarker)}},routeApp.initializeApp.init(),routeApp.setMarkers.init()}();